#task 2 file for topas 

#DEFAULTS
b:Gr/Enable = "False"
#Ts/UseQT = "True"

#b:Ts/PauseBeforeSequence = "True"
b:Ts/PauseBeforeQuit = "True"

#PHYSIC MODULS
#sv:Ph/Default/Modules = 1 "Transportation_Only"


#World 
s:Ge/World/Material    = "G4_AIR"
d:Ge/World/HLX         = 0.5 m
d:Ge/World/HLY         = 0.5 m
d:Ge/World/HLZ         = 0.5 m


#loading DICOM patient 

s:Ge/Patient/Parent   = "World"
#s:Ge/Patient/Material = "G4_WATER"
s:Ge/Patient/Type           = "TsDicomPatient"
s:Ge/Patient/DicomDirectory = "data/CT/DicomDaten"
#sv:Ge/Patient/DicomModalityTags = 1 "CT"
includeFile = HUtoMaterialSchneider.txt


sv:Ge/Patient/ColorByRTStructNames = 4 "CTV_Zylinder" "OAR1" "OAR2" "External"
sv:Ge/Patient/ColorByRTStructColors = 4 "blue" "red" "red" "green"

#i:Ge/Patient/RestrictVoxelsXMin = 300
#i:Ge/Patient/RestrictVoxelsYMin = 300
#i:Ge/Patient/RestrictVoxelsXMax = 400
#i:Ge/Patient/RestrictVoxelsYMax = 400
#i:Ge/Patient/RestrictVoxelsZMin = 300
#i:Ge/Patient/RestrictVoxelsZMax = 400


#iv:Ge/Patient/ShowSpecificSlicesX = 1 -1
#iv:Ge/Patient/ShowSpecificSlicesY = 1 -1
#iv:Ge/Patient/ShowSpecificSlicesZ = 1 30



#Basic graphics for future projects
s:Gr/BasicViewA/Type             = "OpenGL"
i:Gr/BasicViewA/WindowSizeX      = 1024
i:Gr/BasicViewA/WindowSizeY      = 768
b:Gr/BasicViewA/IncludeAxes      = "True"
d:Gr/BasicViewA/Theta            = 55 deg
d:Gr/BasicViewA/Phi              = 20 deg
s:Gr/BasicViewA/Projection       = "Perspective"
d:Gr/BasicViewA/PerspectiveAngle = 30 deg
u:Gr/BasicViewA/Zoom             = 3

i:Gr/ShowOnlyOutlineIfVoxelCountExceeds = 1000000000


#Source
s:So/Example/Type                     = "Beam"
s:So/Example/Component                = "BeamPosition"
s:So/Example/BeamParticle             = "proton"
d:So/Example/BeamEnergy               = 60.23 MeV
u:So/Example/BeamEnergySpread         = 0.757504
s:So/Example/BeamPositionDistribution = "Gaussian"
s:So/Example/BeamPositionCutoffShape  = "Ellipse"
d:So/Example/BeamPositionCutoffX      = 10. cm
d:So/Example/BeamPositionCutoffY      = 10. cm
d:So/Example/BeamPositionSpreadX      = 0.2 cm
d:So/Example/BeamPositionSpreadY      = 0.2 cm
s:So/Example/BeamAngularDistribution  = "Gaussian"
d:So/Example/BeamAngularCutoffX       = 90. deg
d:So/Example/BeamAngularCutoffY       = 90. deg
d:So/Example/BeamAngularSpreadX       = 0.0032 rad
d:So/Example/BeamAngularSpreadY       = 0.0032 rad
i:So/Example/NumberOfHistoriesInRun   = 30000

s:Ge/BeamPosition/Parent="World"
s:Ge/BeamPosition/Type="Group"
d:Ge/BeamPosition/TransX=0. m
d:Ge/BeamPosition/TransY=0.05 m
d:Ge/BeamPosition/TransZ= Ge/World/HLZ m
d:Ge/BeamPosition/RotX=180. deg
d:Ge/BeamPosition/RotY=0. deg
d:Ge/BeamPosition/RotZ=0. deg


#Scorer

#Scorer 1: CTV
s:Sc/DoseCTV/Quantity                  = "DoseToWater"
s:Sc/DoseCTV/Component                 = "Patient"
s:Sc/DoseCTV/IfOutputFileAlreadyExists = "Overwrite"
s:Sc/DoseCTV/OutputType                = "csv"
sv:Sc/DoseCTV/OnlyIncludeIfInRTStructure = 1 "CTV_Zylinder"

#Scorer 2: OAR1
s:Sc/DoseOAR1/Quantity                  = "DoseToMedium"
s:Sc/DoseOAR1/Component                 = "Patient"
s:Sc/DoseOAR1/IfOutputFileAlreadyExists = "Overwrite"
s:Sc/DoseOAR1/OutputType                = "csv"
sv:Sc/DoseOAR1/OnlyIncludeIfInRTStructure = 1 "OAR1"   

#Scorer 3: OAR2
s:Sc/DoseOAR2/Quantity                  = "DoseToMedium"
s:Sc/DoseOAR2/Component                 = "Patient"
s:Sc/DoseOAR2/IfOutputFileAlreadyExists = "Overwrite"
s:Sc/DoseOAR2/OutputType                = "csv"
sv:Sc/DoseOAR2/OnlyIncludeIfInRTStructure = 1 "OAR2"



i:Ts/ShowHistoryCountAtInterval = 100
i:Ts/NumberOfThreads = 0
